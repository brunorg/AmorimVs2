function SetValoresAnoEstudo(){for(var a=dataAnoEstudo.length,b="",c=0;c<a;c++)b+='<option value="'+dataAnoEstudo[c].idanoEstudo+'">'+dataAnoEstudo[c].ano+"\xba</option>";$("#S_AnoEstudo").append(b)}function SetValoresPeriodo(){for(var a=dataPeriodo.length,b="",c=0;c<a;c++)b+='<option value="'+dataPeriodo[c].idperiodo+'">'+dataPeriodo[c].periodo+"</option>";$("#S_Periodo").append(b)}function SetValoresProfessorFuncionario(a){if($.ajax({url:path+"ProfessorFuncionario/html",dataType:"html",success:function(a){$(".tutoria").html(a+'<option value="N_A">N\xe3o Atribuido</option>')}}),a){var b=$("#tutoria");b.val(b.find('option[value="'+a+'"]').val())}}function SetValoresAlunoVariavel(){for(var a=getData("AlunoVariavel",null),c=(a.length,$(".S_Aluno")),d=0;d<c.length;d++)"-1"==$("#"+c[d].id).val()&&$("#"+c[d].id).html("");var e="";e+='<option value="-1"></option>',$.ajax({url:path+"AlunoVariavel/html/"+$("#S_AnoEstudo").val()+"/"+$("#S_Periodo").val(),dataType:"html",success:function(a){for(var b=0;b<$(".S_Aluno").length;b++){var c=$("#S_Aluno"+(b+1)).val();"-1"==c||null==c?($("#S_Aluno"+(b+1)).html("<option value=-1></option>"+a),OrdenarPorNome("#S_Aluno"+(b+1),"#S_Aluno"+(b+1)+" option"),$("#S_Aluno"+(b+1)).val("-1")):(OrdenarPorNome("#S_Aluno"+(b+1),"#S_Aluno"+(b+1)+" option"),$("#S_Aluno"+(b+1)).val(c))}}}),$("#btAdd").css("display","block"),$(".checkLimpar").attr("checked",!1)}function CriarNovaLinha(){var a="";a+='<div id="linha'+($("#marginAlunos .linha").length+1)+'" class="linha"><div class="celulaGrande"><div class="infoG"><input type="checkbox" id="limpar3" class="checkLimpar" onClick="alimentaCombo("S_Aluno'+($("#marginAlunos .linha").length-1)+'")">Aluno </div><div class="infoValueG"> <div class="styled-select"><select id="S_Aluno'+($("#marginAlunos .linha").length-1)+'" class="S_Aluno"><option value="-1"></option>';for(var b=0;b<dataAlunoVariavel.length;b++)if($("#S_AnoEstudo").val()==dataAlunoVariavel[b].anoEstudo.idanoEstudo&&$("#S_Periodo").val()==dataAlunoVariavel[b].periodo.idperiodo){for(var c=!1,d=0;d<$(".S_Aluno").length;d++)$(document.getElementsByClassName("S_Aluno")[d]).val()==dataAlunoVariavel[b].aluno.idAluno&&(c=!0);c||(a+='<option value="'+dataAlunoVariavel[b].idalunoVariavel+'">'+dataAlunoVariavel[b].aluno.nome+"| "+dataAlunoVariavel[b].anoEstudo.ano+"\xb0</option>")}a+="</select></div></div></div></div>",$(a).insertBefore("#container_Inserir .linha:last-child")}function DisposicaoAluno(a){if(""!=a.value&&void 0!=a.value)if(""==a.valAnterior||void 0==a.valAnterior){var b=a.value,c=$(a).find("option").filter(":selected").text(),d=$(a);-1!=b&&($(".S_Aluno").find("option").filter(':contains("'+c+'")').remove(),$(d).append('<option value="'+b+'" selected>'+c+"</option>")),a.valAnterior=b,a.nomAnterior=c,a.optAnterior=$(a).find("option").filter(":selected")}else{{a.value,$(a).find("option").filter(":selected").text(),$(a)}$(".S_Aluno").not(':contains("'+a.nomAnterior+'")').append('<option value="'+a.valAnterior+'">'+a.nomAnterior+"</option>");var b=a.value,c=$(a).find("option").filter(":selected").text(),d=$(a);-1!=b&&($(".S_Aluno").find("option").filter(':contains("'+c+'")').remove(),$(d).append('<option value="'+b+'" selected>'+c+"</option>")),a.valAnterior=b,a.nomAnterior=c,a.optAnterior=$(a).find("option").filter(":selected")}else{var b=a.value,c=$(a).find("option").filter(":selected").text(),d=$(a);$(".S_Aluno").not(':contains("'+a.nomAnterior+'")').append('<option value="'+a.valAnterior+'">'+a.nomAnterior+"</option>"),a.valAnterior=b,a.nomAnterior=c,a.optAnterior=$(a).find("option").filter(":selected")}verifyAdd()}function verifyAdd(){for(var a=!1,b=0;b<$(".S_Aluno").length;b++)""==document.getElementsByClassName("S_Aluno")[b].value&&(a=!0);a?$("#btAdd").css("display","none"):$("#btAdd").css("display","block")}var BList=new Array,alunoID=2,UsuarioAtivo=2,Limite,HtmlContent,contador,previous,dataPeriodo=getData("Periodo",null),dataAnoEstudo=getData("AnoEstudo",null),dataAlunoVariavel=getData("AlunoVariavel",null),dataProfessorFuncionario=getData("ProfessorFuncionario",null);$(document).ready(function(){SetValoresAnoEstudo(),SetValoresPeriodo(),SetValoresProfessorFuncionario(),SetValoresAlunoVariavel(),$("#btAdd").click(function(){CriarNovaLinha()}),$("#btn_Reg_Grupo").click(function(){RegistrarGrupo()}),$("#S_AnoEstudo").change(function(){SetValoresAlunoVariavel()}),$("#S_Periodo").change(function(){SetValoresAlunoVariavel()}),$(".S_Aluno").on("focus",function(){previous=this}).change(function(){DisposicaoAluno(this)})});