function TrocarFrame(a){$("#CadastroTipoEventoFrame").css("display","none"),$("#CadastroAnoLetivoFrame").css("display","none"),$("#SelecionarFiltroFrame").css("display","none"),$("#EdicaoTipoEventoFrame").css("display","none"),$("#ListarFiltroFrame").css("display","none"),$("#CadastroFrame").css("display","none"),$("#EdicaoFrame").css("display","none"),$("#"+a).css("display","block")}function Invisible(a){$("#CadastroTipoEventoFrame").css("visibility","visible"),$("#CadastroAnoLetivoFrame").css("visibility","visible"),$("#SelecionarFiltroFrame").css("visibility","visible"),$("#EdicaoTipoEventoFrame").css("visibility","visible"),$("#ListarFiltroFrame").css("visibility","visible"),$("#CadastroFrame").css("visibility","visible"),$("#EdicaoFrame").css("visibility","visible"),$("#"+a).css("visibility","hidden")}function CadastroFrame(){$("#CadastroFrame #evento").val(""),$("#CadastroFrame #dataInicio").val(""),$("#CadastroFrame #dataFim").val(""),$("#CadastroFrame #anoLetivo").val(""),$("#CadastroFrame #tipoEvento").val(""),TrocarFrame("CadastroFrame"),$("#CadastroFrame").css("visibility","hidden"),GetOptionsEventos("CadastroFrame",null,null),loadEventoS(),$("#CadastroFrame #id").val(null),$("#CadastroFrame #action").val("create"),$("#TabelaPopUp").css("display","block"),$(".total").css("display","none"),$(".leftOrder").css("display","none"),$("#SearchButton").css("display","none"),$("#NewButton").css("display","none"),$("#CancelButton").css("display","block")}function SelecionarFiltroFrame(){TrocarFrame("SelecionarFiltroFrame"),Invisible("SelecionarFiltroFrame"),GetEventos(),OpenPopUp(),$("#SearchButton").css("display","block"),$("#NewButton").css("display","block"),$("#VisualizaSelecaoButton").css("display","none"),$("#DeleteButton").css("display","none"),$("#CancelButton").css("display","none"),$("#SalvarButton").css("display","none")}function EdicaoFrameF(){TrocarFrame("EdicaoFrame"),$("#EdicaoFrame").css("visibility","hidden"),$("#VisualizaSelecaoButton").css("display","none"),$("#TabelaPopUp").css("display","block"),$(".total").css("display","none"),$(".leftOrder").css("display","none"),$("#SearchButton").css("display","none"),$("#DeleteButton").css("display","block"),$("#CancelButton").css("display","block"),$("#SalvarButton").css("display","block"),setValorPopup(ValorList),$(this).ajaxStart(function(){$("#LoadingAjax").css("display","block")}),$(this).ajaxStop(function(){$("#LoadingAjax").css("display","none"),$("#EdicaoFrame").css("visibility","visible")}),$.ajax({type:"GET",crossDomain:!0,url:path+"CalendarioEventos/"+IDselecionado}).then(function(a){$("#EdicaoFrame #evento").val(a.evento),$("#EdicaoFrame #dataInicio").val(a.dataInicio),$("#EdicaoFrame #dataFim").val(a.dataFim),$("#EdicaoFrame #descricao").val(a.descricao),GetOptionsEventos("EdicaoFrame",a.anoLetivo.idanoLetivo,a.tipoEvento.idtipoEvento),$("#EdicaoFrame #id").val(IDselecionado),$("#EdicaoFrame #action").val("update")})}function GetOptionsEventos(a,b,c){$("#"+a+" #anoLetivo").html(""),$("#"+a+" #tipoEvento").html(""),$.ajax({type:"GET",crossDomain:!0,url:path+"AnoLetivo/"}).then(function(c){for(var d=0;d<c.length;d++)$("#"+a+" #anoLetivo").append(b==c[d].idanoLetivo?'<option value="'+c[d].idanoLetivo+'" selected>'+c[d].ano.substring(0,4)+"</option>":'<option value="'+c[d].idanoLetivo+'">'+c[d].ano.substring(0,4)+"</option>")}),$.ajax({type:"GET",crossDomain:!0,url:path+"TipoEvento/"}).then(function(b){for(var d=0;d<b.length;d++)$("#"+a+" #tipoEvento").append(c==b[d].idtipoEvento?'<option value="'+b[d].idtipoEvento+'" selected>'+b[d].evento+"</option>":'<option value="'+b[d].idtipoEvento+'">'+b[d].evento+"</option>")})}function OpenPopUp(){$("#TabelaPopUp").css("display","block"),$(".total").css("display","none"),$(".leftOrder").css("display","none")}function ClosePopUp(){$("#TabelaPopUp").css("display","none"),$(".total").css("display","block"),$(".leftOrder").css("display","block"),IDselecionado=null}function NovoTipoEvento(){TrocarFrame("CadastroTipoEventoFrame"),GetValoresTipoEvento()}function FiltrarEventos(){$.ajax({type:"GET",crossDomain:!0,url:path+"CalendarioEventos/"}).then(function(a){HtmlContent="";for(var b=0;b<a.length;b++)(a[b].tipoEvento.evento.indexOf(document.getElementById("tipoEvento").value)>=0||"Todos"==document.getElementById("tipoEvento").value||""==document.getElementById("tipoEvento").value)&&(a[b].anoLetivo.ano.indexOf(document.getElementById("anoLetivo").value)>=0||"Todos"==document.getElementById("anoLetivo").value||""==document.getElementById("anoLetivo").value)&&(a[b].evento.indexOf(document.getElementById("descricaoEvento").value)>=0||"Todos"==document.getElementById("descricaoEvento").value||""==document.getElementById("descricaoEvento").value)&&(a[b].dataInicio.indexOf(document.getElementById("dataInicio").value)>=0||""==document.getElementById("dataInicio").value)&&(a[b].dataFim.indexOf(document.getElementById("dataFim").value)>=0||""==document.getElementById("dataFim").value)&&(HtmlContent+='<div class="itemResultado"> '+a[b].evento+' <input type="radio" name="result" onclick="SaveValueRadioListEvento(this.value);" value="'+a[b].ideventos+'"> </div> <br>');TrocarFrame("ListarFiltroFrame"),""==HtmlContent&&(HtmlContent="N\xe3o houveram resultados para esta busca."),$("#ContentResultadosFiltro").html(HtmlContent),$("#SearchButton").css("display","none"),$("#NewButton").css("display","none"),$("#VisualizaSelecaoButton").css("display","none"),$("#CancelButton").css("display","block")})}function NumeroOrdenacao(a){NumeroNovo=a,NumeroAntigo==NumeroNovo?(document.getElementById("Ordem").checked=!0,NumeroNovo=0):document.getElementById("Ordem2").checked=!0,NumeroAntigo=NumeroNovo}function OrdenarPor(a){$("#tbConteudo").find(".OrdenaAtivo").sort(function(b,c){return document.getElementById("Ordem").checked?b.getElementsByClassName(a)[0].innerHTML>c.getElementsByClassName(a)[0].innerHTML:b.getElementsByClassName(a)[0].innerHTML<c.getElementsByClassName(a)[0].innerHTML}).appendTo($("#tbConteudo")),$(".lastOne").insertAfter($("tr:last"))}function deleteEvent(){var a=confirm("Deseja mesmo excluir este evento?");1==a&&($.ajax({url:path+"CalendarioEventos/delete/"+IDselecionado,type:"POST",crossDomain:!0}).done(function(){}),SelecionarFiltroFrame(6))}function GetValoresTipoEvento(){$.ajax({type:"GET",crossDomain:!0,url:path+"TipoEvento"}).then(function(a){ListaTipoEventosHTML="";for(var b=0;b<a.length;b++)ListaTipoEventosHTML+="<option value='"+a[b].idtipoEvento+"'>"+a[b].evento+"</option>";$("#CadastroTipoEventoFrame #ContentResultadosTipoEvento").html(ListaTipoEventosHTML)})}function SaveValueRadioListEvento(a){ValorList=a,$("#VisualizaSelecaoButton").css("display","block")}function setValorPopup(a){IDselecionado=a}function getValorPopup(){return IDselecionado}function GetTipoEvento(){$(this).ajaxStart(function(){$("#LoadingAjax").css("display","block")}),$(this).ajaxStop(function(){$("#LoadingAjax").css("display","none"),$("#SelecionarFiltroFrame").css("visibility","visible")}),$.ajax({type:"GET",crossDomain:!0,url:path+"TipoEvento"}).then(function(a){ListaTipoEventosHTML="",ListaTipoEventosHTML+="<option value=''></option>";for(var b=0;b<a.length;b++)ListaTipoEventosHTML+="<option value='"+a[b].evento+"'>"+a[b].evento+"</option>";document.getElementById("tipoEvento").innerHTML=ListaTipoEventosHTML})}function GetAnoLetivo(){$.ajax({type:"GET",crossDomain:!0,url:path+"AnoLetivo"}).then(function(a){ListaLetivoEventosHTML="",ListaLetivoEventosHTML+="<option value=''></option>";for(var b=0;b<a.length;b++)ListaLetivoEventosHTML+="<option value='"+a[b].ano.substring(0,4)+"'>"+a[b].ano.substring(0,4)+"</option>";document.getElementById("anoLetivo").innerHTML=ListaLetivoEventosHTML})}function GetNomeEvento(){$.ajax({type:"GET",crossDomain:!0,url:path+"CalendarioEventos/"}).then(function(a){NomeLetivoEventosHTML="",NomeLetivoEventosHTML+="<option value=''></option>";for(var b=0;b<a.length;b++)NomeLetivoEventosHTML+="<option value='"+a[b].evento+"'>"+a[b].evento+"</option>";document.getElementById("descricaoEvento").innerHTML=NomeLetivoEventosHTML})}function GetEventos(){GetTipoEvento(),GetAnoLetivo(),GetNomeEvento()}function GetData(){var a=new Date,b=a.getDate(),c=a.getMonth()+1,d=a.getFullYear();return b<10&&(b="0"+b),c<10&&(c="0"+c),d+"-"+c+"-"+b}function cadastrar(){$("#CadastroFrame #frmEvento").unbind("submit").on("submit",function(a){a.preventDefault(),GetData()<=$("#CadastroFrame #dataInicio").val()&&$("#CadastroFrame #dataFim").val()>=$("#CadastroFrame #dataInicio").val()?$.ajax({url:path+"CalendarioEventos",type:"post",data:$(this).serialize(),success:function(){alert("Dados inseridos com sucesso!"),SelecionarFiltroFrame(6)},error:function(){alert("N\xe3o cadastrado, verifique os campos.")}}):alert("Verifique a data inserida")})}function editar(){$("#EdicaoFrame #frmEvento").unbind("submit").on("submit",function(a){a.preventDefault(),$.ajax({url:path+"CalendarioEventos/",type:"post",data:$(this).serialize(),success:function(){alert("Dados alterados com sucesso!"),SelecionarFiltroFrame(6)},error:function(){alert("N\xe3o modificado, verifique os campos.")}})})}function CriarTipoEventoF(){$("#PesquisaResultado_TipoCadastro #frmEvento").on("submit",function(a){a.preventDefault(),$.ajax({url:path+"TipoEvento/",type:"post",data:$(this).serialize(),success:function(){},error:function(){}})})}$(document).ready(function(){}),$(document).ready(function(){$("#CadastroFrame #action").val("create")}),$(document).ready(function(){$("#EdicaoTipoEventoFrame #action").val("update")}),$(document).ready(function(){$("#CadastroFrame #btnSubmit").click(function(){cadastrar()})}),$(document).ready(function(){$("#EdicaoFrame #btnSubmit").click(function(){editar()})}),$(document).ready(function(){$("#PesquisaResultado_TipoCadastro #action").val("create")}),$(document).ready(function(){$("#PesquisaResultado_TipoCadastro #NovoTipoButton").click(function(){CriarTipoEventoF()})});