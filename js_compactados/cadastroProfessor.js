function validaForm(a){switch(a){case"ProfessorFuncionario":var b=new Date;if(null==$("#ativo").val())return mensagem("Por favor, selecione um status!","OK","bt_ok","erro"),$("#ativo").focus(),!1;if(""==$("#dataEntradaEscola").val())return mensagem("Por favor, preencha o campo In\xedcio Escola!","OK","bt_ok","erro"),$("#dataEntradaEscola").focus(),!1;if($("#dataEntradaEscola").val().substring(6,10)>b.getFullYear()||$("#dataEntradaEscola").val().substring(6,10)==b.getFullYear()&&$("#dataEntradaEscola").val().substring(3,4)>b.getMonth()+1||$("#dataEntradaEscola").val().substring(6,10)==b.getFullYear()&&$("#dataEntradaEscola").val().substring(3,4)==b.getMonth()+1&&$("#dataEntradaEscola").val().substring(0,1)>b.getDate())return mensagem("Data de Entrada na Escola posterior a data atual!","OK","bt_ok","erro"),$("#dataEntradaEscola").focus(),!1;if(""==$("#dataEntradaPrefeitura").val())return mensagem("Por favor, preencha o campo In\xedcio PMSP!","OK","bt_ok","erro"),$("#dataEntradaPrefeitura").focus(),!1;if($("#dataEntradaPrefeitura").val().substring(6,10)>b.getFullYear()||$("#dataEntradaPrefeitura").val().substring(6,10)==b.getFullYear()&&$("#dataEntradaPrefeitura").val().substring(3,4)>b.getMonth()+1||$("#dataEntradaPrefeitura").val().substring(6,10)==b.getFullYear()&&$("#dataEntradaPrefeitura").val().substring(3,4)==b.getMonth()+1&&$("#dataEntradaPrefeitura").val().substring(0,1)>b.getDate())return mensagem("Data de In\xedcio PMSP posterior a data atual!","OK","bt_ok","erro"),$("#CEP").focus(),!1;if($("#dataEntradaPrefeitura").val().substring(6,10)>$("#dataEntradaEscola").val().substring(6,10)||$("#dataEntradaPrefeitura").val().substring(6,10)==$("#dataEntradaEscola").val().substring(6,10)&&$("#dataEntradaPrefeitura").val().substring(3,4)>$("#dataEntradaEscola").val().substring(3,4)||$("#dataEntradaPrefeitura").val().substring(6,10)==$("#dataEntradaEscola").val().substring(6,10)&&$("#dataEntradaPrefeitura").val().substring(3,4)==$("#dataEntradaEscola").val().substring(3,4)&&$("#dataEntradaPrefeitura").val().substring(0,1)>$("#dataEntradaEscola").val().substring(0,1))return mensagem("Data de In\xedcio PMSP deve ser anterior a data de Entrada na Escola!","OK","bt_ok","erro"),$("#dataEntradaPrefeitura").focus(),!1;if(""==$("#nome").val())return mensagem("Por favor, preencha o campo Nome!","OK","bt_ok","erro"),$("#nome").focus(),!1;if(""==$("#naturalidadePais").val())return mensagem("Por favor, preencha o campo Pa\xeds!","OK","bt_ok","erro"),$("#naturalidadePais").focus(),!1;if($("#naturalidadePais").val().match(/brasil/i)==$("#naturalidadePais").val()&&""==$("#naturalidadeEstado").val()||null==$("#naturalidadeEstado").val())return mensagem("Por favor, preencha o campo Estado Natal!","OK","bt_ok","erro"),$("#naturalidadeEstado").focus(),!1;if(""==$("#rua").val())return mensagem("Por favor, preencha o campo Logradouro!","OK","bt_ok","erro"),$("#rua").focus(),!1;if(""==$("#bairro").val())return mensagem("Por favor, preencha o campo Bairro!","OK","bt_ok","erro"),$("#bairro").focus(),!1;if(""==$("#numero").val())return mensagem("Por favor, preencha o campo N\xfamero!","OK","bt_ok","erro"),$("#numero").focus(),!1;if(""==$("#cep").val().replace(/[^0-9]+/g,""))return mensagem("Por favor, preencha o campo CEP!","OK","bt_ok","erro"),$("#cep").focus(),!1;if(""==$("#estado").val()||null==$("#estado").val())return mensagem("Por favor, preencha o campo Estado!","OK","bt_ok","erro"),$("#estado").focus(),!1;if(""==$("#cidade").val()||null==$("#cidade").val())return mensagem("Por favor, preencha o campo Cidade!","OK","bt_ok","erro"),$("#cidade").focus(),!1;break;case"ProfessorFuncionarioVariavel":if(""==$("#formacao").val())return mensagem("Por favor, preencha o campo Forma\xe7\xe3o!","OK","bt_ok","erro"),$("#formacao").focus(),!1;if(""==$("#cargo").val())return mensagem("Por favor, preencha o campo Cargo!","OK","bt_ok","erro"),$("#cargo").focus(),!1;if(""==$("#qpe").val())return mensagem("Por favor, preencha o campo QPE!","OK","bt_ok","erro"),$("#qpe").focus(),!1;if("-1"==$("#periodo").val())return mensagem("Por favor, preencha o campo Per\xedodo!","OK","bt_ok","erro"),$("#periodo").focus(),!1;break;case"ProfessorUsuario":if(""==$("#loginProfessor").val())return mensagem("Por favor, preencha o campo Login!","OK","bt_ok","erro"),$("#loginProfessor").focus(),!1;if($("#loginProfessor").val().length>10)return mensagem("Campo Login deve ter no m\xe1ximo 10 caracteres","OK","bt_ok","erro"),$("#loginProfessor").focus(),!1;if("disabled"!=$("#senhaUserProfessor").attr("disabled")){if(""==$("#senhaUserProfessor").val())return mensagem("Por favor, preencha o campo Senha!","OK","bt_ok","erro"),$("#senhaUserProfessor").focus(),!1;if($("#senhaUserProfessor").val().length>6)return mensagem("Campo Senha deve ter no m\xe1ximo 6 caracteres","OK","bt_ok","erro"),$("#senhaUserProfessor").focus(),!1}if(""==$("#emailUsuarioProfessor").val())return mensagem("Por favor, preencha o campo Email!","OK","bt_ok","erro"),$("#emailUsuarioProfessor").focus(),!1}}function setValoresCadastroProfessor(a,b){if(b)$("#frmCadastroProfessor #action").val("create");else{var c=getData("ProfessorFuncionarioVariavel",a),d=getData("ProfessorFuncionario",c.professorFuncionario.idprofessorFuncionario),f=(d.dataEntradaEscola,d.dataEntradaPrefeitura.substr(8,2)+"-"+d.dataEntradaPrefeitura.substr(5,2)+"-"+d.dataEntradaPrefeitura.substr(0,4)),g=d.dataEntradaEscola.substr(8,2)+"-"+d.dataEntradaEscola.substr(5,2)+"-"+d.dataEntradaEscola.substr(0,4);$("#frmCadastroProfessor #action").val("update"),$("#frmCadastroProfessor #dataEntradaEscola").val(g),$("#frmCadastroProfessor #cep").val(d.cep),$("#frmCadastroProfessor #rua").val(d.rua),$("#frmCadastroProfessor #nome").val(d.nome),$("#frmCadastroProfessor #dataEntradaPrefeitura").val(f),$("#frmCadastroProfessor #ativo").val(d.ativo),$("#frmCadastroProfessor #bairro").val(d.bairro),$("#frmCadastroProfessor #numero").val(d.numero),$("#frmCadastroProfessor #estado").val(d.estado),$("#frmCadastroProfessor #estado").trigger("change"),window.setTimeout(function(){$("#frmCadastroProfessor #cidade").val(d.cidade)},1e3),$("#frmCadastroProfessor #observacao").val(d.observacao),$("#frmCadastroProfessor #complemento").val(d.complemento),$("#frmCadastroProfessor #id").val(d.idprofessorFuncionario),$("#frmCadastroProfessor #naturalidadePais").val(d.naturalidadePais),$("#frmCadastroProfessor #QuinquenioNumber").html(c.quinquenio),$("#frmCadastroProfessor #naturalidadeEstado").val(d.naturalidadeEstado),$("#frmCadastroProfessorVariavel #id").val(a),$("#frmCadastroProfessorVariavel #action").val("update"),$("#frmCadastroProfessorVariavel #qpe").val(c.qpe),$("#frmCadastroProfessorVariavel #cargo").val(c.cargo),$("#frmCadastroProfessorVariavel #letra").val(c.letra),$("#frmCadastroProfessorVariavel #periodo").val(c.periodo.idperiodo),$("#frmCadastroProfessorVariavel #formacao").val(c.formacao),$("#frmCadastroProfessorVariavel #anoLetivo").val(c.anoLetivo.idanoLetivo),$("#frmCadastroProfessorVariavel #quinquenio").val(c.quinquenio),$("#frmCadastroProfessorVariavel #observacao").val(c.observacao),$("#frmCadastroProfessorVariavel #descontoQuinquenio").val(c.descontoQuinquenio),$("#frmCadastroProfessorVariavel #professorFuncionario").val(c.professorFuncionario.idprofessorFuncionario),$("#frmCadastroProfessorVariavel #fotoProfessorFuncionario").val(c.fotoProfessorFuncionario)}}function cadastraUserProfessor(){var a=validaForm("ProfessorUsuario");if("undefined"==typeof a){loading("inicial");var b="&email="+$("#emailUsuarioProfessor").val()+"&professor="+$("#professorUser").val()+"&login="+$("#loginProfessor").val()+"&perfil="+$("#perfilCadastro").val()+"&aluno=&moderador=",c=$("#actionUserProfessor").val();if("create"==c){if($("#senhaUserProfessor").val().length>6)return loading("final"),mensagem("A senha deve conter no m\xe1ximo 6 caracteres!","OK","bt_ok","alerta");b+="&senha="+$("#senhaUserProfessor").val()}else"update"==c&&(b+="&id="+$("#idEdtUserProfessor").val()+"&senha=");$.ajax({url:path+"Usuario",type:"POST",crossDomain:!0,data:"action="+c+b,success:function(){"create"==c?($(".btnFuncionarioLogin").hide(),loading("final"),mensagem("Dados salvos com sucesso!","OK","bt_ok","sucesso")):(loading("final"),mensagem("Dados alterados com sucesso!","OK","bt_ok","sucesso"))},error:function(){}})}}function upFotoProfessor(a){$("#linha8 #UpFoto .inputImg").removeClass("clicado"),$("#linha8 #UpFoto .inputImg").css("background-position","0px 0px"),"S"==a?($("#cadUsuario").css("display","none"),$(".blackPainel").css("display","block")):($(".blackPainel").css("display","none"),$("#cadUsuario").css("display","block"))}function salvarFotoProfessor(){var a=$("#professorFuncionario").val(),b=$("#imagem").val(),c=b.substring(b.lastIndexOf(".")).toLowerCase(),d=c.split(".");if("jpg"==d[1]||"png"==d[1]||"jpeg"==d[1]){var e=new FormData($("#inserirArquivo")[0]);$.ajax({url:path+"ProfessorFuncionario/upload/ProfessorFuncionario/imagem/"+a,type:"POST",mimeType:"multipart/form-data",contentType:!1,cache:!1,processData:!1,data:e,success:function(){$(".blackPainel").css("display","none"),$("#cadUsuario").css("display","block"),mensagem("Arquivo salvo com sucesso!","OK","bt_ok","sucesso");var c=getData("ProfessorFuncionario",a);$("#fotoCad").css("display","block").html("<img id='_foto' src='"+c.fotoProfessorFuncionario+"' width='150' height='150'/>")}})}else mensagem("Este arquivo n\xe3o \xe9 uma imagem!, verifique os campos!","OK","bt_ok","erro")}function desbloquearEdicao(){$("#editar").val(""),$("#botaoDesbloquear").css("display","none"),$("input").removeAttr("disabled"),$("textarea").removeAttr("disabled"),$("select").removeAttr("disabled"),$("#UpFotoProfessor").css("display","block"),""!=$("#idEdtUserProfessor").val()&&$("#senhaUserProfessor").prop("disabled",!0)}listarEstadoCidade("naturalidadeEstado"),listarEstadoCidade("estado");var dataPeriodo=getData("Periodo",null),dataAnoEstudo=getData("AnoEstudo",null);HtmlContent="";for(var a=0;a<dataAnoLetivo.length;a++)HtmlContent+="<option value='"+dataAnoLetivo[a].idanoLetivo+"'>"+dataAnoLetivo[a].ano.substring(0,4)+"</option>";$("#anoLetivo").html(HtmlContent),HtmlContent="";for(var b=0;b<dataPeriodo.length;b++)HtmlContent+="<option value='"+dataPeriodo[b].idperiodo+"'>"+dataPeriodo[b].periodo+"</option>";$("#periodo").html(HtmlContent),$(document).ready(function(){if($("#cep").mask("99999-999"),$(".dataFixaSalva").remove(),$("#frmCadastroProfessor").unbind("submit").on("submit",function(a){var b=validaForm("ProfessorFuncionario");a.preventDefault(),"undefined"==typeof b&&(loading("inicio"),$("#dataEntradaPrefeitura").val(""+changeDatePosition($("#dataEntradaPrefeitura").val(),1,"-")),$("#dataEntradaEscola").val(""+changeDatePosition($("#dataEntradaEscola").val(),1,"-")),$("#quinquenio").val($("#QuinquenioNumber").html()),$.ajax({url:path+"ProfessorFuncionario/",type:"POST",crossDomain:!0,dataType:"json",data:$(this).serialize(),success:function(a){return $("#professorFuncionario").val(a),$("#frmCadastroProfessorVariavel #professorFuncionario").val(a),$("#dataEntradaPrefeitura").val(""+changeDatePosition($("#dataEntradaPrefeitura").val(),2,"-")),$("#dataEntradaEscola").val(""+changeDatePosition($("#dataEntradaEscola").val(),2,"-")),$("#professorUser").val(a),$("#frmCadastroProfessorVariavel").css("display","block"),"create"==$("#frmCadastroProfessor #action").val()?(loading("final"),mensagem("Dados cadastrados com sucesso!!<br>Continue com o cadastro!","OK","bt_ok","sucesso"),$(".btnFuncionario").hide(),!1):(loading("final"),void mensagem("Dados alterados com sucesso!!","OK","bt_ok","sucesso"))},error:function(){$("#dataEntradaPrefeitura").val(""+changeDatePosition($("#dataEntradaPrefeitura").val(),2,"-")),$("#dataEntradaEscola").val(""+changeDatePosition($("#dataEntradaEscola").val(),2,"-")),loading("final"),mensagem("N\xe3o modificado, verifique os campos.","OK","bt_ok","erro")}}))}),$("#frmCadastroProfessorVariavel").unbind("submit").on("submit",function(a){var b=validaForm("ProfessorFuncionarioVariavel");a.preventDefault(),"undefined"==typeof b&&(loading("inicial"),$.ajax({url:path+"ProfessorFuncionarioVariavel/",type:"POST",crossDomain:!0,dataType:"json",data:$(this).serialize(),success:function(){"create"==$("#frmCadastroProfessor #action").val()?(loading("final"),mensagem("Dados cadastrados com sucesso!<br>Continue com o cadastro!","OK","bt_ok","sucesso"),$(".btnFuncionarioVariavel").hide(),$("#frmCadastroProfessorVariavel #action").val("create"),$("#frmCadastroProfessor #action").val("create"),$("#frmCadastroProfessor #id").val("create"),$("#frmCadastroProfessorVariavel #id").val("create"),$("#frmCadastroProfessorVariavel #professorFuncionario").val("create"),$("#cadUsuarioProfessor").css("display","block")):(loading("final"),mensagem("Dados vari\xe1veis alterados com sucesso!","OK","bt_ok","sucesso"))},error:function(){mensagem("N\xe3o modificado, verifique os campos.","OK","bt_ok","erro")}}))}),StoredCamposini.length>0){HtmlAddData="";for(var a=0;a<StoredCamposini.length;a++){var b=StoredCamposini[a].substring(6,10)+"-"+StoredCamposini[a].substring(3,5)+"-"+StoredCamposini[a].substring(0,2),c=StoredCamposfim[a].substring(6,10)+"-"+StoredCamposfim[a].substring(3,5)+"-"+StoredCamposfim[a].substring(0,2);HtmlAddData+='<div class="linha dataFixaSalva" style="margin:8px 0; border:solid thin gray; "><div class="celulaGrande"><div class="infoValueGG"><div class="inicioCampoFixo">In\xedcio <b atrValor="'+StoredCamposini[a]+'" value="'+b+'">'+StoredCamposini[a].replace(/-/g,"/")+'</b></div><div class="terminoCampoFixo">T\xe9rmino <b atrValor="'+StoredCamposfim[a]+'" value="'+c+'">'+StoredCamposfim[a].replace(/-/g,"/")+'</b></div><div class="editar"></div></div></div></div>'}$(HtmlAddData).insertBefore("#DatasAdd"),$(".editar").click(function(){$("#Inicio").val($(this).parent().find(".inicioCampoFixo b").attr("atrValor")),$("#Termino").val($(this).parent().find(".terminoCampoFixo b").attr("atrValor")),$("#DatasAdd").show(),$(this).parents(".linha").remove()})}null!=localStorage.getItem("professorEdt")&&void 0!=localStorage.getItem("professorEdt")&&"null"!=localStorage.getItem("professorEdt")?(setValoresCadastroProfessor(localStorage.getItem("professorEdt"),!1),localStorage.setItem("professorEdt",null)):setValoresCadastroProfessor(localStorage.getItem("professorEdt"),!0),GerarUpload($("#foto"),$("#imagem"),$("#imagem"))});